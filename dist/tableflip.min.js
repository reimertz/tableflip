!function(t,e,i,a){"use strict";function s(){x++,x>2||(2===x&&p(),g(x),v(T[x].text))}function n(){2>w+N||(k.fromEmail=E.value,k.message=L.value,o(k))}function o(t){var e=new XMLHttpRequest;e.open("POST",("https:"==location.protocol?location.protocol:"http:")+"//mailserver.tableflip.co/sendmail",!0),e.setRequestHeader("Content-Type","application/json; charset=UTF-8"),e.send(JSON.stringify(t)),v(T[3].text),e.onloadend=function(t){return 200===t.target.status?l():401===t.target.status?r():void c()}}function l(){v(T[4].text),setTimeout(function(){u()},4500)}function r(){y.classList.add("fail"),setTimeout(function(){y.classList.remove("fail")},100),v(T[6].text)}function c(){y.classList.add("fail"),setTimeout(function(){y.classList.remove("fail")},100),v(T[5].text)}function u(){i.classList.remove("do-flip"),i.classList.add("reverse-flip"),setTimeout(function(){i.classList.remove("reverse-flip")},1e3),y.classList.remove(x),x=0,E.value="",L.value="",g(x),v(T[x].text)}function d(){B.push(y.getElementsByClassName("text")[0].addEventListener("click",function(t){t.stopPropagation(),s(t)})),B.push(y.getElementsByTagName("button")[0].addEventListener("click",function(t){t.stopPropagation(),u()})),B.push(y.getElementsByTagName("button")[1].addEventListener("click",function(t){t.stopPropagation(),n()})),B.push(E.addEventListener("keyup",function(t){N=m(t.currentTarget.value),y.classList.toggle("valid-email",N)})),B.push(L.addEventListener("keyup",function(t){w=!!(t.currentTarget.value.length>1),y.classList.toggle("has-message",w)}))}function m(t){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}function f(){var t=document.createElement("link");t.href=("https:"==location.protocol?location.protocol:"http:")+S.cssLocation,t.type="text/css",t.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(t);var i=document.createElement("div");i.innerHTML=h(S.initialState),S.position.indexOf("top")>-1?e.insertBefore(i.firstChild,e.firstChild)&&e.classList.add("tp-top"):e.insertBefore(i.firstChild,e.nextSibling),y=document.getElementById(S.tagId),b=document.getElementById(S.tagId).parentNode,E=document.getElementById("u_email"),L=document.getElementById("u_message"),S.position.indexOf("right")>-1&&e.classList.add("tp-right"),S.size.indexOf("large")>-1&&e.classList.add("tp-large"),S.size.indexOf("medium")>-1&&e.classList.add("tp-medium")}function p(){i.classList.add("do-flip")}function g(t){y.classList.remove(t-1),y.classList.add(t)}function v(t){y.getElementsByClassName("text")[0].innerHTML=t}function h(t){if(!(t.length>T.length)){if(S.message)var e=S.message.length>65?S.message.substring(0,63)+"..":S.message;else var e="Ouch, you table flipped the homepage. Let them know why!";return'<div class="table-flip-wrapper"><div id="table-flip" class="'+t+'"><div class="text">'+T[t].text+'</div><div class="form"><div class="message">'+e+'</div><div class="u_message"><textarea id="u_message" rows="4" placeholder="Enter your message"></textarea></div><div class="email"><input type="email" id="u_email" placeholder="Enter your email"></div><button type="submit">Cancel</button><button type="submit">Send</button></div><a href="http://tableflip.co" target="_blank">tableflip.co</a></div></div>'}}var y,b,L,E,x=0,T=[{text:"<face>(°□°)</face> ┬─┬"},{text:"<face>(╯°□°)</face> ┬─┬"},{text:"<face>(╯°□°)╯</face> ︵ ┻━┻"},{text:"Sending.."},{text:"Sent!"},{text:"Server error!"},{text:"Wrong Auth key!"}],B=[],w=!1,N=!1,k={},S={initialState:0,tagId:"table-flip",cssLocation:"//cdn.rawgit.com/reimertz/tableflip.co/release/dist/tableflip.min.css"},z={init:function(t){if(S.position=a.getAttribute("position")||t.settings||"",S.size=a.getAttribute("size")||t.size||"",S.message=a.getAttribute("message")||t.message||null,k.toEmail=a.getAttribute("email")||t.email,!m(k.toEmail))throw new Error("tableflip.co Error: No Valid email!");if(k.authKey=a.getAttribute("auth-key")||t.authKey||"",!k.authKey)throw new Error("tableflip.co Error: No authKey!");k.url=location.href,f(),d()}};t.tableFlip=z,t.tableFlip.init()}(window,document.getElementsByTagName("html")[0],document.getElementsByTagName("body")[0],document.currentScript);