!function(e,t,i,a){"use strict";function s(){x++,x>2||(2===x&&p(),g(x),v(T[x].text))}function n(){2>B+N||(k.fromEmail=L.value,k.message=y.value,o(k))}function o(e){var t=new XMLHttpRequest;t.open("POST","mailserver.tableflip.co/sendmail",!0),t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.send(JSON.stringify(e)),v(T[3].text),t.onloadend=function(e){return 200===e.target.status?l():401===e.target.status?r():void c()}}function l(){v(T[4].text),setTimeout(function(){u()},4500)}function r(){b.classList.add("fail"),setTimeout(function(){b.classList.remove("fail")},100),v(T[6].text)}function c(){b.classList.add("fail"),setTimeout(function(){b.classList.remove("fail")},100),v(T[5].text)}function u(){i.classList.remove("do-flip"),i.classList.add("reverse-flip"),setTimeout(function(){i.classList.remove("reverse-flip")},1e3),b.classList.remove(x),x=0,L.value="",y.value="",g(x),v(T[x].text)}function d(){w.push(b.getElementsByClassName("text")[0].addEventListener("click",function(e){e.stopPropagation(),s(e)})),w.push(b.getElementsByTagName("button")[0].addEventListener("click",function(e){e.stopPropagation(),u()})),w.push(b.getElementsByTagName("button")[1].addEventListener("click",function(e){e.stopPropagation(),n()})),w.push(L.addEventListener("keyup",function(e){N=m(e.currentTarget.value),b.classList.toggle("valid-email",N)})),w.push(y.addEventListener("keyup",function(e){B=!!(e.currentTarget.value.length>1),b.classList.toggle("has-message",B)}))}function m(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function f(){var e=document.createElement("link");e.href=("https:"==location.protocol?location.protocol:"http:")+S.cssLocation,e.type="text/css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e);var i=document.createElement("div");i.innerHTML=h(S.initialState),S.position.indexOf("top")>-1?t.insertBefore(i.firstChild,t.firstChild)&&t.classList.add("tp-top"):t.insertBefore(i.firstChild,t.nextSibling),b=document.getElementById(S.tagId),E=document.getElementById(S.tagId).parentNode,L=document.getElementById("u_email"),y=document.getElementById("u_message"),S.position.indexOf("right")>-1&&t.classList.add("tp-right"),S.size.indexOf("large")>-1&&t.classList.add("tp-large"),S.size.indexOf("medium")>-1&&t.classList.add("tp-medium")}function p(){i.classList.add("do-flip")}function g(e){b.classList.remove(e-1),b.classList.add(e)}function v(e){b.getElementsByClassName("text")[0].innerHTML=e}function h(e){if(!(e.length>T.length)){if(S.message)var t=S.message.length>65?S.message.substring(0,63)+"..":S.message;else var t="Ouch, you table flipped the homepage. Let them know why!";return'<div class="table-flip-wrapper"><div id="table-flip" class="'+e+'"><div class="text">'+T[e].text+'</div><div class="form"><div class="message">'+t+'</div><div class="u_message"><textarea id="u_message" rows="4" placeholder="Enter your message"></textarea></div><div class="email"><input type="email" id="u_email" placeholder="Enter your email"></div><button type="submit">Cancel</button><button type="submit">Send</button></div><a href="http://tableflip.co" target="_blank">tableflip.co</a></div></div>'}}var b,E,y,L,x=0,T=[{text:"<face>(°□°)</face> ┬─┬"},{text:"<face>(╯°□°)</face> ┬─┬"},{text:"<face>(╯°□°)╯</face> ︵ ┻━┻"},{text:"Sending.."},{text:"Sent!"},{text:"Server error!"},{text:"Wrong Auth key!"}],w=[],B=!1,N=!1,k={},S={initialState:0,tagId:"table-flip",cssLocation:"//rawgit.com/reimertz/tableflipco/release/dist/tableflip.min.css"},C={init:function(){if(!t)throw new Error("Error loading TableFlip.js: Could not append to <HMTL>.'");if(!a)throw new Error("Error loading TableFlip.js attributes..'");if(S.position=a.getAttribute("position")||"",S.size=a.getAttribute("size")||"",S.message=a.getAttribute("message")||null,k.toEmail=a.getAttribute("email"),!m(k.toEmail))throw new Error("tableflip.co Error: No Valid email!");if(k.authKey=a.getAttribute("auth-key")||"",!k.authKey)throw new Error("tableflip.co Error: No authKey!");k.url=location.href,f(),d()}};e.tableFlip=C,e.tableFlip.init()}(window,document.getElementsByTagName("html")[0],document.getElementsByTagName("body")[0],document.currentScript);